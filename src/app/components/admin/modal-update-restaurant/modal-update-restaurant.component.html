<ngx-alerts></ngx-alerts>
<div class="container">
    <div class="row">
        <div class="col">
            <div style="padding-top: 2em;" class="text-center">
                <h1>
                    <span style="font-size: 1em; color: #E36485;"><i class="fa fa-cutlery"></i></span> {{restaurante.username}}
                </h1>
            </div>
            <form name="formAdmin" #formAdmin="ngForm" (ngSubmit)="cargarImagenes(formAdmin)">
                <div class="form-group">
                    <label for="nombre"><b>Nombre: </b></label>
                    <input type="text" name="username" class="form-control" placeholder="La Fondita" [(ngModel)]="restaurante.username">
                </div>
                <div class="form-group">
                    <label for="contacto"><b>Contacto: </b> </label>
                    <input type="text" name="contacto" class="form-control" placeholder="Maria Gonzalez" [(ngModel)]="restaurante.contacto">
                </div>
                <br>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="basic-addon1">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                          </svg>
                        </span>
                    </div>
                    <input type="text" class="form-control" (keydown.enter)="$event.preventDefault()" placeholder="Buscar Dirección" autocorrect="off" autocapitalize="off" spellcheck="off" type="text" required="true" #search>
                </div>
                <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
                    <agm-marker [latitude]="latitude" [longitude]="longitude" [markerDraggable]="true" (dragEnd)="markerDragEnd($event)"></agm-marker>
                </agm-map>
                <br>
                <div class="form-group">
                    <label for="telefono"><b>Dirección: </b></label>
                    <input type="text" name="address" class="form-control" value="restaurante.address" [(ngModel)]="address">
                    <input type="text" name="latitude" class="form-control" hidden value="restaurante.direccion.latitude" [(ngModel)]="latitude">
                    <input type="text" name="longitude" class="form-control" hidden value="restaurante.direccion.longitude" [(ngModel)]="longitude">
                </div>
                <div class="form-group">
                    <label for="telefono"><b>Teléfono: </b></label>
                    <input type="number" name="phone" class="form-control" placeholder="4775642879" [(ngModel)]="restaurante.phone">
                </div>
                <div class="form-group">
                    <label for="categoria"><b>Selecciona una categoría:</b> </label>
                    <select class="form-control" id="categoria" name="categoria" [(ngModel)]="restaurante.uidCategoria">
                  <option *ngFor="let categoria of categorias" value="{{categoria.id}}">{{ categoria.nombre }} </option>
                </select>
                </div>
                <div class="form-group">
                    <label for="hora_abierto"><b>Hora de abrir: </b> </label>
                    <input type="time" class="form-control" name="hora_abierto" [(ngModel)]="restaurante.hora_abierto">
                </div>
                <div class="form-group">
                    <label for="hora_cerrar"><b>Hora de cerrar:</b> </label>
                    <input type="time" class="form-control" name="hora_cerrar" [(ngModel)]="restaurante.hora_cerrar">
                </div>
                <!-- <div class="form-group">
                    <label for="email">Correo electrónico</label>
                    <input type="email" name="email" class="form-control" placeholder="ejemplo@ejemplo.com.mx" [(ngModel)]="restaurante.email" required minlength="8">
                </div>
                <div class="form-group">
                    <label for="password">Contraseña</label>
                    <input type="password" name="password" class="form-control" placeholder="" [(ngModel)]="restaurante.password" required minlength="5" maxlength="10">
                </div> -->
                <hr>
                <div class="text-center">
                    <img [src]="restaurante.photourl" class="rounded" width="20%" height="20%">
                </div>
                <div class="form-group">
                    <h5>Seleccionar imagen:</h5>
                    <input class="form-control" type="file" accept=".png, .jpg" (change)="onUpload($event)">
                </div>
                <div class="progress">
                    <div [style.visibility]="(uploadPercent == 0) ? 'hidden' : 'visible'" class="progress-bar progress-bar-striped bg-success" role="progressbar" [style.width]="(uploadPercent | async) +'%'">
                        <!-- <span class="progressText" *ngIf="urlImage | async">
              Ok!!</span> -->
                    </div>
                </div>
                <div style=" padding-top: 2em; padding-bottom: 2em;">
                    <button class="btn btn-lg btn-primary btn-block" type="submit">Actualizar</button> &nbsp;
                    <!-- <button (click)="limpiarArchivos()" class="btn btn-danger">Limpiar</button> -->
                </div>
            </form>
        </div>
    </div>
</div>